{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\flori\\\\Documents\\\\M2-MIAGE\\\\Architecture Orient\\xE9e Service\\\\Projet\\\\bataille_navale\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"C:\\\\Users\\\\flori\\\\Documents\\\\M2-MIAGE\\\\Architecture Orient\\xE9e Service\\\\Projet\\\\bataille_navale\\\\front\\\\src\\\\Authentification\\\\Connexion.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport API from './../API/API';\nimport './CSS/bootstrap.css';\nimport './CSS/style.css';\n\nclass Connexion extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.send = async () => {\n      const _this$state = this.state,\n            pseudo = _this$state.pseudo,\n            password = _this$state.password;\n\n      try {\n        const _ref = await API.login(pseudo, password),\n              data = _ref.data;\n\n        localStorage.setItem(\"token\", data.token);\n        console.log('Connceter');\n      } catch (error) {\n        console.log('error');\n      }\n    };\n\n    this.state = {\n      amount: '',\n      pseudo: '',\n      password: '',\n      weight: '',\n      weightRange: '',\n      showPassword: false\n    };\n  } //creer une fonction pour lier le back et front au bouttons\n\n\n  render() {\n    const handleChange = prop => event => {\n      this.setState(_objectSpread({}, this.state, {\n        [prop]: event.target.value\n      }));\n    };\n\n    const handleClickShowPassword = () => {\n      this.setState(_objectSpread({}, this.state, {\n        showPassword: !this.state.showPassword\n      }));\n    };\n\n    const handleMouseDownPassword = event => {\n      event.preventDefault();\n    };\n\n    return React.createElement(\"div\", {\n      class: \"row mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-6 m-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"card card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      class: \"text-center mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-user-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), \" Se Connecter\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      label: \"Login \",\n      id: \"simple-start-adornment\",\n      type: \"text\",\n      value: this.state.pseudo,\n      onChange: handleChange('pseudo'),\n      className: clsx(useStyles.margin, useStyles.textField),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      className: clsx(useStyles.margin, useStyles.textField),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"adornment-password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Mot de passe\"), React.createElement(Input, {\n      id: \"adornment-password\",\n      type: this.state.showPassword ? 'text' : 'password',\n      value: this.state.password,\n      onChange: handleChange('password'),\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        \"aria-label\": \"toggle password visibility\",\n        onClick: handleClickShowPassword,\n        onMouseDown: handleMouseDownPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.showPassword ? React.createElement(Visibility, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }) : React.createElement(VisibilityOff, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"button\",\n      class: \"btn btn-primary btn-block\",\n      style: {\n        display: \"inline-block\",\n        width: \"50%\"\n      },\n      onClick: this.send,\n      value: \"Connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/compte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary btn-block\",\n      style: {\n        display: \"inline-block\",\n        width: \"50%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Creer un compte\"))))));\n  }\n\n}\n\nexport default Connexion;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    backgroundColor: 'blue'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    flexBasis: 200\n  }\n}));","map":{"version":3,"sources":["C:/Users/flori/Documents/M2-MIAGE/Architecture OrientÃ©e Service/Projet/bataille_navale/front/src/Authentification/Connexion.js"],"names":["React","Link","clsx","makeStyles","IconButton","Input","InputLabel","InputAdornment","FormControl","TextField","Visibility","VisibilityOff","API","Connexion","Component","constructor","props","send","state","pseudo","password","login","data","localStorage","setItem","token","console","log","error","amount","weight","weightRange","showPassword","render","handleChange","prop","event","setState","target","value","handleClickShowPassword","handleMouseDownPassword","preventDefault","useStyles","margin","textField","display","width","theme","root","flexWrap","backgroundColor","spacing","withoutLabel","marginTop","flexBasis"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\n\r\nimport API from './../API/API'\r\n\r\nimport './CSS/bootstrap.css'\r\nimport './CSS/style.css'\r\n\r\nclass Connexion extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            amount: '',\r\n            pseudo: '',\r\n            password: '',\r\n            weight: '',\r\n            weightRange: '',\r\n            showPassword: false,\r\n        };\r\n    }\r\n    //creer une fonction pour lier le back et front au bouttons\r\n    send = async () =>{\r\n        const { pseudo, password} = this.state;\r\n        try{\r\n            const {data} = await API.login(pseudo, password);\r\n            localStorage.setItem(\"token\", data.token);\r\n            console.log('Connceter')\r\n        }catch (error){\r\n            console.log('error')\r\n        }\r\n    };\r\n    \r\n    render(){\r\n        const handleChange = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n\r\n        const handleClickShowPassword = () => {\r\n            this.setState({ ...this.state, showPassword: !this.state.showPassword });\r\n        };\r\n\r\n        const handleMouseDownPassword = event => {\r\n            event.preventDefault();\r\n        };\r\n        \r\n        return(\r\n            <div class=\"row mt-5\">\r\n                <div class=\"col-md-6 m-auto\">\r\n                    <div class=\"card card-body\">\r\n                        <h1 class=\"text-center mb-3\">\r\n                            <i class=\"fas fa-user-plus\"></i> Se Connecter\r\n                        </h1>\r\n                        <form /*action=\"/users/register\" method=\"POST\"*/>\r\n                            <div class=\"form-group\">\r\n                                <TextField\r\n                                    label=\"Login \"\r\n                                    id=\"simple-start-adornment\"\r\n                                    type='text'\r\n                                    value={this.state.pseudo}\r\n                                    onChange={handleChange('pseudo')}\r\n                                    className={clsx(useStyles.margin, useStyles.textField)}\r\n                                />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <FormControl className={clsx(useStyles.margin, useStyles.textField)}>\r\n                                    <InputLabel htmlFor=\"adornment-password\">Mot de passe</InputLabel>\r\n                                    <Input\r\n                                        id=\"adornment-password\"\r\n                                        type={this.state.showPassword ? 'text' : 'password'}\r\n                                        value={this.state.password}\r\n                                        onChange={handleChange('password')}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <IconButton\r\n                                                    aria-label=\"toggle password visibility\"\r\n                                                    onClick={handleClickShowPassword}\r\n                                                    onMouseDown={handleMouseDownPassword}\r\n                                                >\r\n                                                    {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                                </IconButton>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                </FormControl>\r\n                            </div>\r\n                            {/*<Link to=\"/menu\">*/}\r\n                            <input type=\"button\" class=\"btn btn-primary btn-block\" style={{display: \"inline-block\", width: \"50%\"}} \r\n                                onClick={this.send}\r\n                                value='Connexion'\r\n                            >    \r\n                            </input>\r\n                            {/*</Link>*/}\r\n                            <Link to=\"/compte\">\r\n                            <button type=\"submit\" class=\"btn btn-primary btn-block\" style={{display:\"inline-block\", width: \"50%\"}}>\r\n                                Creer un compte\r\n                            </button>\r\n                            </Link>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Connexion;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      backgroundColor:'blue',\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    withoutLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    textField: {\r\n      flexBasis: 200,\r\n    },\r\n}));"]},"metadata":{},"sourceType":"module"}